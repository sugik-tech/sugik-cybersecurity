## 🌐 Networking Essentials – Ringkasan Materi Lengkap

📝 **Deskripsi:**  
Rangkuman ini dibuat oleh saya sendiri berdasarkan pengalaman menyelesaikan room di TryHackMe, kemudian diperbaiki dan dilengkapi dengan bantuan ChatGPT untuk menyederhanakan materi, merapikan tata letak, dan memudahkan pemahaman.

---

### 1. Pengantar

Tujuan room ini adalah memahami protokol inti: **DHCP**, **ARP**, **ICMP** (via ping/traceroute), **NAT**, dan konsep routing. Setelah menyelesaikan tugas, flag yang diperoleh: **THM{computer\_is\_happy}**

---

### 2. 📡 DHCP – Dynamic Host Configuration Protocol

* DHCP mengotomatisasi pengaturan IP address, subnet mask, default gateway, dan DNS saat perangkat terhubung ke jaringan.
* Protokol berbasis UDP, server mendengarkan di port 67, client mengirim dari port 68.
* Proses DORA (4 langkah): **Discover → Offer → Request → Acknowledge**. Contoh: client menerima IP `192.168.66.133` dari server `192.168.66.1`

**Quiz:**

* Berapa langkah DHCP? → 4
* IP tujuan Discover? → `255.255.255.255`
* IP sumber saat mulai? → `0.0.0.0`

---

### 3. 🔑 ARP – Address Resolution Protocol

* Menghubungkan alamat IP (Layer 3) ke MAC (Layer 2) dalam jaringan lokal.
* ARP response memberikan MAC yang sesuai kepada ip yang melakukan ARP request
* ARP dianggap sebagai lapisan 2 karena menangani alamat MAC. Yang lain berpendapat bahwa ARP merupakan bagian dari lapisan 3 karena mendukung operasi IP. Yang penting untuk diketahui adalah ARP memungkinkan penerjemahan pengalamatan lapisan 3 ke pengalamatan lapisan 2.
#### contoh arp request dan respond
user@TryHackMe$ tshark -r arp.pcapng -Nn
* 1 0.000000000 cc:5e:f8:02:21:a7 → ff:ff:ff:ff:ff:ff ARP 42 Who has 192.168.66.1? Tell 192.168.66.89
* 2 0.003566632 44:df:65:d8:fe:6c → cc:5e:f8:02:21:a7 ARP 42 192.168.66.1 is at 44:df:65:d8:fe:6c
* * ARP request dikirim ke MAC broadcast (`ff:ff:ff:ff:ff:ff`).

**Quiz:**

* MAC tujuan ARP Request? → `ff:ff:ff:ff:ff:ff`
* Contoh MAC untuk IP `192.168.66.1`: → `44:df:65:d8:fe:6c`

---

### 4. 🖥️ ICMP – Troubleshooting Jaringan

* **Ping** menggunakan ICMP Echo Request/Reply untuk cek koneksi dan latency.
* **Traceroute** memanfaatkan TTL di header IP; paket drop saat TTL mencapai 0 dan router mengirim ICMP Time Exceeded message.
* **ping** Perintah ini menggunakan ICMP untuk menguji konektivitas ke sistem target dan mengukur waktu pulang pergi (RTT). Dengan kata lain, perintah ini dapat digunakan untuk mengetahui bahwa target masih aktif dan balasannya dapat mencapai sistem kami.
* **traceroute** Perintah ini dipanggil traceroutepada sistem Linux dan UNIX-like, serta tracertpada sistem MS Windows. Perintah ini menggunakan ICMP untuk menemukan rute dari host Anda ke target. agar tahu rute apa saja yang di lalui
* Ukuran payload ping biasanya **40 bytes** dalam lab.
* Field TTL diperlukan agar traceroute menghentikan paket pada hop tertentu.
* Protokol internet memiliki kolom bernama Time-to-Live ( TTL ) yang menunjukkan jumlah maksimum router yang dapat dilalui sebuah paket sebelum paket tersebut dihapus. Router mengurangi TTL paket sebanyak satu sebelum mengirimkannya. Ketika TTL mencapai nol, router menghapus paket dan mengirimkan pesan ICMP Time Exceeded (ICMP Type 11).

---

### 5. 🚦 Routing & NAT

* Router bekerja di **Layer 3**, menentukan jalur paket antar jaringan.
* NAT memungkinkan banyak perangkat privat memakai satu IP publik (menggunakan port berbeda).
* Protokol routing seperti **EIGRP** (Cisco-proprietary) digunakan di lingkungan enterprise.
* Jumlah koneksi TCP teoritis: sekitar **65 ribu** (karena port TCP 16-bit).
#### algoritma perutean
* OSPF (Open Shortest Path First) : OSPF adalah protokol routing yang memungkinkan router berbagi informasi tentang topologi jaringan dan menghitung jalur paling efisien untuk transmisi data. Hal ini dilakukan dengan meminta router bertukar informasi terbaru tentang status tautan dan jaringan yang terhubung. Dengan demikian, setiap router memiliki peta jaringan yang lengkap dan dapat menentukan rute terbaik untuk mencapai tujuan mana pun.
* EIGRP (Enhanced Interior Gateway Routing Protocol) : EIGRP adalah protokol routing milik Cisco yang menggabungkan berbagai aspek algoritma routing. Protokol ini memungkinkan router untuk berbagi informasi tentang jaringan yang dapat dijangkau dan biaya (seperti bandwidth atau delay) yang terkait dengan rute tersebut. Router kemudian menggunakan informasi ini untuk memilih jalur transmisi data yang paling efisien.
* BGP (Border Gateway Protocol) : BGP adalah protokol perutean utama yang digunakan di internet. Protokol ini memungkinkan jaringan yang berbeda (seperti jaringan Penyedia Layanan Internet) untuk bertukar informasi perutean dan menetapkan jalur bagi data untuk berpindah di antara jaringan-jaringan ini. BGP membantu memastikan data dapat dirutekan secara efisien di internet, bahkan ketika melintasi beberapa jaringan.
* RIP (Routing Information Protocol) : RIP adalah protokol routing sederhana yang sering digunakan dalam jaringan kecil. Router yang menjalankan RIP berbagi informasi tentang jaringan yang dapat dijangkau dan jumlah hop (router) yang diperlukan untuk mencapainya. Oleh karena itu, setiap router membangun tabel routing berdasarkan informasi ini, memilih rute dengan hop paling sedikit untuk mencapai setiap tujuan.

---

### 6. nat
* NAT (Network Address Translation) adalah proses di mana router atau perangkat jaringan mengubah alamat IP(private) pada paket data menjadi ip publik saat paket itu lewat.
#### Penjelasan prosesnya
Misalnya ada PC di LAN (192.168.1.10) yang mengakses website.
1. Saat paket keluar (outbound)
* PC mengirim paket dari 192.168.1.10:50000 ke 93.184.216.34:80 (contoh IP web).
* Router NAT mengganti IP sumber 192.168.1.10 menjadi IP publik (misal 123.45.67.89).
* NAT juga bisa mengganti nomor port sumber menjadi port unik (misal 62000) supaya tidak bentrok dengan koneksi lain.
* Router mencatat ini di tabel NAT:
* 192.168.1.10:50000  →  123.45.67.89:62000
2. Saat paket balasan datang (inbound)
* Website mengirim balasan ke 123.45.67.89:62000.
* Router cek tabel NAT:
* 123.45.67.89:62000 → 192.168.1.10:50000
* Router mengganti alamat tujuan IP publik menjadi IP privat (192.168.1.10) dan port aslinya (50000).
* Paket dikirim ke PC yang benar.
## 📝 Template Singkat

---

```
DHCP:
- DHCP otomatisasi network config.
- UDP port: server=67, client=68.
- Proses DORA: Discover, Offer, Request, Acknowledge.
- DHCP steps=4; dest IP discover=255.255.255.255; source IP=0.0.0.0.

ARP:
- Resolve IP ke MAC.
- ARP Request ke ff:ff:ff:ff:ff:ff.
- Response dari MAC tertentu, contoh untuk 192.168.66.1 = 44:df:65:d8:fe:6c.

ICMP (ping/traceroute):
- Ping = echo request/reply, payload ~40 bytes.
- traceroute pakai TTL; ketika TTL=0 router kirim ICMP Time Exceeded.

Routing & NAT:
- Router=Layer 3.
- NAT = banyak private IP pakai satu IP publik.
- Protokol Cisco = EIGRP.
- Maks koneksi TCP = ~65 ribu.

Quiz highlights:
- DHCP langkah=4
- ARP broadcast MAC=ff:…
- Ping protokol=ICMP
- NAT untuk multi device
- Routing Cisco=EIGRP
```
